#!/bin/bash

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=79718&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv ' >> /home/joe/NZHLSTATS/Teams/79718.csv

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=152212&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv ' >> /home/joe/NZHLSTATS/Teams/152212.csv

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=150730&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv ' >> /home/joe/NZHLSTATS/Teams/150730.csv

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=150265&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv ' >> /home/joe/NZHLSTATS/Teams/150265.csv

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=149878&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv ' >> /home/joe/NZHLSTATS/Teams/149878.csv

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=145078&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv ' >> /home/joe/NZHLSTATS/Teams/145078.csv

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=101458&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv ' >> /home/joe/NZHLSTATS/Teams/101458.csv

curl "https://proclubs.ea.com/api/nhl/clubs/matches?clubIds=155815&platform=xbox-series-xs&matchType=club_private" -A "Gecko/20100101" | jq -r ' def empty_strings: reduce range(length) as $i ([]; . + [""]); .[] | [.matchId, .timestamp] as [$matchId, $timestamp] | (.players | [to_entries[] | .key as $id1 | .value | to_entries[] | [$id1, .key, .value.glbrksavepct, .value.glbrksaves, .value.glbrkshots, .value.gldsaves, .value.glga, .value.glgaa, .value.glpensavepct, .value.glpensaves, .value.glpenshots, .value.glpkclearzone, .value.glpokechecks, .value.glsavepct, .value.glsaves, .value.glshots, .value.glsoperiods, .value.opponentClubId, .value.position, .value.posSorted, .value.ratingDefense, .value.ratingOffense, .value.ratingTeamplay, .value.skassists, .value.skbs, .value.skdeflections, .value.skfol, .value.skfopct, .value.skfow, .value.skgiveaways, .value.skgoals, .value.skgwg, .value.skhits, .value.skinterceptions, .value.skpassattempts, .value.skpasses, .value.skpasspct, .value.skpenaltiesdrawn, .value.skpim, .value.skpkclearzone, .value.skplusmin, .value.skpossession, .value.skppg, .value.sksaucerpasses, .value.skshg, .value.skshotattempts, .value.skshotonnetpct, .value.skshotpct, .value.skshots, .value.sktakeaways, .value.toiseconds, .value.playername]]) as $players | (.clubs | [to_entries[] | [.key, .value.passa, .value.passc, .value.ppg, .value.ppo, .value.shots, .value.toa, .value.details.name, .value.details.clubId]]) as $clubs | range([$players, $clubs] | map(length) | max) | [$matchId, $timestamp] + ($clubs[.]   // ($clubs[] | empty_strings)) + ($players[.] // ($players[] | empty_strings)) | @csv '  >> /home/joe/NZHLSTATS/Teams/155815.csv
